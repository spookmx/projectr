<ion-view view-title="Profile">
  <ion-content padding="true" class="has-header">

    <div ng-hide="profile.currentUser">
      <div class="card list">
        <div class="item item-divider">
        Log In
        </div>
        <label class="item item-input">
          <input type="text" placeholder="Email" ng-model="profile.loginForm.email">
        </label>
        <label class="item item-input">
          <input type="password" placeholder="Password" ng-model="profile.loginForm.password">
        </label>
        <div>
          <div class="row">

            <div class="col">
              <button class="button button-block button-calm button-outline button-stable" ng-click="profile.forgotPassword()">
                Forgot Password
              </button>
            </div>

            <div class="col">
              <button class="item button button-block button-calm" ng-click="profile.login()">
                Sign In
              </button>
            </div>

          </div>
        </div>
      </div>

      <div class="list card">
        <div class="item item-divider">
          New User?
        </div>
          <div class="item item-text-wrap">
            Register for an Medical Representative account and offer your products to Healthcare Professionals in your area.
            <a class="button button-block button-positive" href="#/tab/register">
                Register
            </a>
          </div>
        </div>
      </div>
    </div>

    <div ng-show="profile.currentUser">
    	<div class="list">
          <a href="#/tab/account" class="item item-icon-left">
            <i class="icon ion-person"></i>
            Account Settings
            <span class="badge">{{ profile.user.givenName }} {{ profile.user.familyName }}</span>
          </a>
          <a ng-if="profile.user.roleAttribute == 'rep'" href="#/tab/portfolio" class="item item-icon-left">
            <i class="icon ion-filing"></i>
            Portfolio
            <span class="badge">{{ profile.user.products ? profile.user.products.length : 0 }} Products</span>
          </a>
          <a ng-if="profile.user.roleAttribute == 'rep'" href="#/tab/territories" class="item item-icon-left">
            <i class="icon ion-map"></i>
            Territories
            <span class="badge">{{ profile.user.cities ? profile.user.cities.length : 0 }} Cities</span>
          </a>
          <a ng-click="profile.logout()" class="item item-icon-left assertive">
            <i class="icon ion-log-out"></i>
            Log Out
          </a>
        </div>
    </div>

    <!-- To Do - restric Admin area with  profile.currentUser.roleAttribute -->
    <div ng-show="profile.currentUser" ng-if="profile.user.roleAttribute == 'manager'" >
      <div class="list">
          <div class="item item-divider">
            Management Area
          </div>
          <a href="#/tab/admin-portfolio" class="item item-icon-left positive">
            <i class="icon ion-filing"></i>
            Portfolio
            <span class="badge">{{ profile.user.products ? profile.user.products.length : 0 }} Products</span>
          </a>
          <a href="#/tab/admin-territories" class="item item-icon-left positive">
            <i class="icon ion-map"></i>
            Territories
            <span class="badge">{{ profile.user.cities ? profile.user.cities.length : 0 }} Cities</span>
          </a>
        </div>
    </div>
  </ion-content>
</ion-view>
